(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{366:function(e,t,n){"use strict";var o=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}};t.a={getItem:function(e){if(o())return function(e){return window.localStorage.getItem(e)}(e)},setItem:function(e,t){o()&&function(e,t){window.localStorage.setItem(e,t)}(e,t)},removeItem:function(e){o()&&function(e){window.localStorage.removeItem(e)}(e)},clear:function(){o()&&window.localStorage.clear()}}},473:function(e,t,n){"use strict";n.r(t),n.d(t,"initSearchBar",(function(){return b})),n.d(t,"initSearchPage",(function(){return C}));var o=n(64),r=(n(125),{omniboxConfig:{enableQueryExtensionAddon:!0,enableQuerySyntax:!0,placeholder:"Search our content...",triggerQueryOnClear:!0},searchboxConfig:{enableOmnibox:!0},analyticsConfig:{searchHub:"developer-okta-com"},searchInterfaceConfig:{pipeline:"developer-okta-com",enableHistory:!0,enableAutomaticResponsiveMode:!1},facetValueCaptions:{"Developer blog":"Blog","Developer documentation":"Docs","Developer forum":"Developer forum","Developer products":"Products and Pricing"},pagerConfig:{numberOfPages:function(){var e=10;window.innerWidth<=768&&(e=5);window.innerWidth<=320&&(e=3);return e}()}});n(27),n(120);var a=n(386),i=n.n(a);function c(e){this.message=e}c.prototype=new Error,c.prototype.name="InvalidCharacterError";var s="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new c("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,r=0,a=0,i="";o=t.charAt(a++);~o&&(n=r%4?64*n+o:o,r++%4)?i+=String.fromCharCode(255&n>>(-2*r&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return i};function u(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(s(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return s(t)}}function l(e){this.message=e}l.prototype=new Error,l.prototype.name="InvalidTokenError";var d=function(e,t){if("string"!=typeof e)throw new l("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(u(e.split(".")[n]))}catch(e){throw new l("Invalid token specified: "+e.message)}},p=n(410),g=n(366),f=function(){var e=g.a.getItem("coveo_token");if(e){e=e.replace('"',"");try{var t=d(e);if(p.DateTime.now()<p.DateTime.fromSeconds(t.exp).minus({minutes:5}))return e}catch(e){console.log("Failed to parse token:",e.message)}g.a.removeItem("coveo_token")}},m=function(){return i.a.get("https://wt1ugse0be.execute-api.us-west-2.amazonaws.com/prod/token?site=developer").then((function(e){var t=e.data.token;return g.a.setItem("coveo_token",t),t}))},h=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=f(),e.t0){e.next=5;break}return e.next=4,m();case 4:e.t0=e.sent;case 5:t=e.t0,Coveo.SearchEndpoint.configureCloudV2Endpoint("oktaproduction9ounvcxa",t,"https://platform.cloud.coveo.com/rest/search",{renewAccessToken:m});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=(n(121),function(){Coveo.TemplateHelpers.registerTemplateHelper("sourceTag",(function(e){var t="",n=this.result.raw.commonoktasource[0],o=r.facetValueCaptions[n];return"string"==typeof o&&(t='<span class="highlight">'.concat(o,"</span>")),t})),Coveo.TemplateHelpers.registerTemplateHelper("recommendedTag",(function(){var e="";return"FeaturedResult"===this.result.rankingModifier&&(e='<span class="highlight is-recommended">Recommended</span>'),e})),Coveo.TemplateHelpers.registerTemplateHelper("dateFormatter",(function(e){var t="",n=Coveo.DateUtils.convertToStandardDate(e);if(Coveo.DateUtils.isValid(n)){var o=Coveo.DateUtils.monthToString(n.getMonth()),r=n.getDate(),a=n.getFullYear();t="Last Updated on ".concat(o," ").concat(r,", ").concat(a)}return t}))}),w=function(e){var t;(t=document.querySelector(".CoveoOmnibox"))&&Coveo.$$(t).on("populateOmniboxSuggestions",(function(e,t){var n=t.omnibox.magicBox.displayedResult.input,o=t.omnibox.magicBox.element,r=t.omnibox.magicBox.suggestionsManager.hasSuggestions;0===n.length?o.classList.add("has-suggestions-hidden"):n.length>0&&r&&setTimeout((function(){return o.classList.remove("has-suggestions-hidden")}),500)})),function(e){Coveo.$$(e).on("newResultDisplayed",(function(e,t){var n=t.result,o=t.item,r=o.querySelector(".is-primary .CoveoResultLink"),a=o.querySelector(".is-secondary .CoveoResultLink"),i=o.CoveoResult.raw.source,c=o.CoveoResult.clickUri,s=n.title;s&&r&&a&&("okta-developer"!==i&&r.classList.add("is-external-link"),s.length>80&&(s="".concat(s.substring(0,80)," ...")),r.innerHTML=s,a.innerHTML=c,r.href=c,a.href=c)}))}(e)},b=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.querySelector("[data-search-bar]"),e.next=3,h();case 3:w(t),Coveo.initSearchbox(t,"/search/",{Searchbox:r.searchboxConfig,Omnibox:r.omniboxConfig,Analytics:r.analyticsConfig});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.querySelector("[data-search-page]"),n=document.querySelector("[data-search-bar]"),e.next=4,h();case 4:w(t),v(),Coveo.init(t,{externalComponents:[n],Facet:{enableSettings:!1},sourceFilter:{valueCaption:r.facetValueCaptions,includeInOmnibox:!0},Searchbox:r.searchboxConfig,Omnibox:r.omniboxConfig,Analytics:r.analyticsConfig,SearchInterface:r.searchInterfaceConfig,Pager:r.pagerConfig,ResultLink:{onClick:r.resultLinkOnClick}});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}]);